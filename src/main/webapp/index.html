<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>日志中心</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <script src="js/jquery-1.7.2.js"></script>
    <script src="layui/layui.js" type="text/javascript"></script>
    <style>

        .left{
            float:left;
            width: 30%;


        }
        #left_top{
            display: flex;
            flex-direction: column;
            justify-content: center;

        }
        #seachFilePath, #seachFilePathDetail{
            margin-left:30%;
        }




        .right{
            float:right;
            width: 70%;
        }
        #cntent{
            display: flex;
            justify-content: center;
        }
        #input_box{
            display: flex;

        }
        .layui-input-block{
            margin-left: 200px;
        }




    </style>
</head>
<body>
<div class="right" style="position: relative;">
    <div class="layui-input-block" id="keyWord" style="margin-top:5px;">
        <label class="layui-form-label">关键字</label>
        <div id="input_box" class="layui-input-inline">

            <input type="text" id="searchByTime" lay-verify="required" style="width:200px;"
                   placeholder="请输入日志时间" data-provide="typeahead" class="layui-input" autocomplete="off">

            <select id="searchByLevel" name="city" lay-verify="" list="levelList" lay-verify="required" style="width:200px;"
                    placeholder="请输入日志等级" data-provide="typeahead" class="layui-input" autocomplete="off">
                <option value="">选择级别</option>
                <option value="INFO">INFO</option>
                <option value="FATAL">FATAL</option>
                <option value="WARN">WARN</option>
                <option value="ERROR">ERROR</option>
                <option value="DEBUG">DEBUG</option>
            </select>


            <!--<input type="hide" name="RegisterCompanyId" id="hiddenRegisterCompanyId_searchForm" />-->
        </div>
        <button type="text" id="foundPath" style="position: absolute;left: 700px;top: 0px;" class="layui-btn layui-btn-normal">查找</button>
    </div>
    <div id="content">无</div>

</div>


<div id="left_top">

    <input type="text" id="seachFilePath" lay-verify="required" style="width:200px;"
           placeholder="请输入目录地址" data-provide="typeahead" class="layui-input" autocomplete="off">
    <input type="text" id="seachFilePathDetail" lay-verify="required" style="width:200px;"
           placeholder="精确地址" data-provide="typeahead" class="layui-input" autocomplete="off">
    <button type="text" style="margin-left: 30%; width: 100px;text-align: center;" id="findFilepPath" class="layui-btn layui-btn-normal">查找</button>

</div>


<div class="left">

    <div id="tree">

    </div>

</div>



<script type="text/javascript">

    layui.use('tree', function(){
        var tree = layui.tree;



        //渲染
        var inst1 = tree.render({
            showLine:false ,
            elem: '#tree'  //绑定元素
            ,data: [{
                title: '江西' //一级菜单
                ,children: [{
                    title: '南昌' //二级菜单
                    ,children: [{
                        title: '高新区' //三级菜单
                        //…… //以此类推，可无限层级
                    }]
                }]
            },{
                title: '陕西' //一级菜单
                ,children: [{
                    title: '西安' //二级菜单
                }]
            }]
        });
    });




    $('#foundPath').on('click',function(){
        var searchByTime = $('#searchByTime').val();
        var searchByLevel = $('#searchByLevel').val();
        console.log(searchByTime);
        console.log(searchByLevel);
        $.ajax({
            url: 'logController/getKey',
            type: 'post',
            data: {
                searchByTime: searchByTime,
                searchByLevel: searchByLevel
            },
            dataType:'json',
            success:function(data){
                console.log(data)
                $('#content').text("");
                $.each(data,function(i,v){
                    $('#content').append((i+1)+". "+v.path+" "+v.level+" "+v.date+" "+v.detail+"<br>");

                });

            }
        });
    })

</script>
</body>
</html>